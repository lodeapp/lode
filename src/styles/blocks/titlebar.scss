.titlebar {
    background-color: var(--titlebar-background-color);
    border-bottom: 1px solid var(--sidebar-border-color);
    color: $black;
    display: block;
    flex: 0 0 auto;
    height: var(--titlebar-height);
    padding: 2px 4px 0;
    position: relative;
    width: calc(100% - 2px);

    .titlebar-drag {
        -webkit-app-region: drag;
        height: 100%;
        position: relative;
        width: 100%;
        z-index: 1;
    }

    .titlebar-menu {
        left: 0;
        list-style: none;
        position: absolute;
        top: 0;
        z-index: 3;

        li {
            display: inline-block;

            button {
                appearance: none;
                background-color: transparent;
                border: 0;
                padding: 7px 12px;

                &:hover {
                    background: rgba(0, 0, 0, .1);
                }

                &:active {
                    background: rgba(0, 0, 0, .2);
                }
            }
        }
    }

    .controls {
        -webkit-app-region: no-drag;
        display: grid;
        grid-template-columns: repeat(3, 46px);
        height: 100%;
        position: absolute;
        right: 0;
        top: 0;
        z-index: 2;

        .control {
            align-items: center;
            display: flex;
            grid-row: 1 / span 1;
            height: 100%;
            justify-content: center;
            width: 100%;

            &:hover {
                background: rgba(0, 0, 0, .1);
            }

            &:active {
                background: rgba(0, 0, 0, .2);
            }

            &.control-min {
                grid-column: 1;
            }

            &.control-max,
            &.control-restore {
                grid-column: 2;
            }

            .control-close {
                grid-column: 3;
            }
        }
    }
}

.maximized {
    .titlebar {
        padding: 0;
        width: 100%;
    }

    .control-restore {
        display: flex !important;
    }

    .control-max {
        display: none;
    }
}

@media (device-pixel-ratio: 1.5), (device-pixel-ratio: 2), (device-pixel-ratio: 3) {
    .controls img {
        height: 10px;
        width: 10px;
    }
}
